"use strict";(self.webpackChunksango_slide=self.webpackChunksango_slide||[]).push([[352],{6352:(e,t,n)=>{n.d(t,{default:()=>r});var s=n(7401);class a{constructor(){this.apiType=navigator.presentation&&navigator.presentation.receiver?"presentation":"localStorage","presentation"===this.apiType&&this.setUp()}registerEvent(e,t){navigator.presentation.receiver.connectionList.then((n=>{n.connections.forEach((n=>{n.addEventListener(e,t)})),n.addEventListener("connectionavailable",(e=>{t(e.connection)}))}))}setUp(){this.registerEvent("close",(e=>{console.log(e)}))}onChangePage(e){"presentation"===this.apiType?this.registerEvent("message",(t=>{const n=JSON.parse(t.data).page;e(n)})):window.addEventListener("storage",(t=>{if("page"===t.key){const n=JSON.parse(t.newValue).page;e(n)}}))}}var i=n(8742),o=n(6596);const r=(0,s.memo)((()=>{const{state:{currentIndex:e},dispatch:t}=(0,o.re)(),[n,r]=(0,s.useState)(null);return(0,s.useEffect)((()=>{n?.onChangePage((e=>{t((0,o.$L)(e))}))}),[n]),(0,s.useEffect)((()=>{window.onload=()=>{r(new a)}}),[]),(0,s.useEffect)((()=>{const{swiper:t}=document.querySelector("#main-slides");t?.slideTo(e)}),[e]),s.createElement("div",{className:"fusuma-presenter-view"},s.createElement(i.B,{id:"main-slides"}))}))}}]);